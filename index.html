<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙŠÙ‚ÙŠÙ† | ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        /* Ù†ÙØ³ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± */
        :root {
            --primary: #064e3b;
            --secondary: #10b981;
            --accent: #f59e0b;
            --bg: #f1f5f9;
            --card: #ffffff;
            --text: #1e293b;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .dark-mode {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f1f5f9;
            --primary: #34d399;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            transition: background 0.3s ease;
        }

        header {
            background: var(--primary); color: white;
            padding: 15px 20px; display: flex;
            justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .container { max-width: 600px; margin: 0 auto; padding: 20px; }

        #startScreen {
            height: 100vh; width: 100%;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white; position: fixed; top: 0; left: 0; z-index: 2000;
        }

        #startScreen h1 { font-size: 48px; margin-bottom: 10px; font-weight: 800; }
        .enter-btn {
            background: white; color: var(--primary);
            padding: 15px 60px; border-radius: 50px;
            font-size: 22px; font-weight: bold; border: none;
            cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .page { display: none; animation: slideUp 0.4s ease-out; }
        .page.active { display: block; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .menu-item {
            background: var(--card); padding: 25px 15px;
            border-radius: 20px; text-align: center; cursor: pointer;
            box-shadow: var(--shadow); border: 1px solid rgba(0,0,0,0.05);
        }
        .menu-item span { font-weight: 700; font-size: 18px; }

        .content-card { background: var(--card); padding: 20px; border-radius: 20px; margin-bottom: 15px; box-shadow: var(--shadow); }
        .quran-view { font-family: 'Amiri', serif; font-size: 26px; line-height: 2.2; text-align: justify; padding: 20px; max-height: 60vh; overflow-y: auto; }
        .surah-select, .tasbeeh-select { width: 100%; padding: 15px; border-radius: 12px; font-family: 'Tajawal'; font-size: 16px; margin-bottom: 20px; border: 2px solid var(--secondary); background: var(--card); color: var(--text); }

        .tasbeeh-container { text-align: center; padding: 20px 0; }
        .circle {
            width: 200px; height: 200px;
            border: 10px solid var(--secondary); border-radius: 50%;
            margin: 0 auto 20px; display: flex; flex-direction: column;
            justify-content: center; align-items: center; cursor: pointer;
            background: var(--card); box-shadow: var(--shadow);
        }
        .circle h2 { font-size: 50px; margin: 0; }

        .btn-back { background: #64748b; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; margin-bottom: 20px; font-weight: bold; }
        .btn-reset { background: #ef4444; color: white; border: none; padding: 12px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; }
        .zikr-box { border-right: 4px solid var(--secondary); background: var(--bg); padding: 15px; margin-bottom: 10px; border-radius: 0 10px 10px 0; }
        
        /* Ø§Ø³ØªØ§ÙŠÙ„ Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª */
        audio { width: 100%; margin-top: 15px; border-radius: 10px; }
    </style>
</head>
<body>

<div id="startScreen">
    <h1>ÙŠÙÙ‚ÙÙŠÙ†</h1>
    <p>Ø£ÙÙ„ÙØ§ Ø¨ÙØ°ÙÙƒÙ’Ø±Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ØªÙØ·Ù’Ù…ÙØ¦ÙÙ†Ù‘Ù Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù</p>
    <button class="enter-btn" onclick="startApp()">Ø¯Ø®ÙˆÙ„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚</button>
</div>

<header id="mainHeader" style="display: none;">
    <span style="font-weight: 800; font-size: 22px;">ğŸŒ™ ÙŠÙÙ‚ÙÙŠÙ†</span>
    <button onclick="toggleDark()" style="background:none; border:none; font-size: 24px; cursor:pointer;">ğŸŒ“</button>
</header>

<div class="container" id="appContent" style="display: none;">

    <div id="homePage" class="page active">
        <div class="content-card" style="background: var(--primary); color: white; text-align: center;">
            <p id="dailyVerse">"Ø¥ÙÙ†Ù‘Ù Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§"</p>
        </div>
        <div class="main-menu">
            <div class="menu-item" onclick="showPage('quranPage')">ğŸ“– <span>Ø§Ù„Ù‚Ø±Ø¢Ù†</span></div>
            <div class="menu-item" onclick="showPage('azkarPage')">ğŸŒ… <span>Ø§Ù„Ø£Ø°ÙƒØ§Ø±</span></div>
            <div class="menu-item" onclick="showPage('tasbeehPage')">ğŸ“¿ <span>Ø§Ù„Ø³Ø¨Ø­Ø©</span></div>
            <div class="menu-item" onclick="showPage('duaPage')">ğŸ™ <span>Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</span></div>
            <div class="menu-item" onclick="showPage('hifzPage')" style="grid-column: span 2;">ğŸ’¡ <span>Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø­ÙØ¸</span></div>
        </div>
    </div>

    <div id="quranPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">ğŸ”™ Ø±Ø¬ÙˆØ¹</button>
        <select id="surahSelect" class="surah-select" onchange="getSurahData()">
            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©...</option>
        </select>
        
        <div id="audioContainer" class="content-card" style="display:none; text-align:center;">
            <span id="audioTitle" style="font-weight:bold; display:block; margin-bottom:10px;"></span>
            <audio id="surahAudio" controls>
                <source src="" type="audio/mpeg">
            </audio>
        </div>

        <div id="quranBox" class="content-card quran-view">
            Ø§Ø®ØªØ± Ø³ÙˆØ±Ø© Ù„ØªØ¨Ø¯Ø£ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„Ø§Ø³ØªÙ…Ø§Ø¹...
        </div>
    </div>

    <div id="tasbeehPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">ğŸ”™ Ø±Ø¬ÙˆØ¹</button>
        <div class="tasbeeh-container">
            <label style="display:block; margin-bottom:10px; font-weight:bold;">Ø§Ø®ØªØ± Ø§Ù„Ø°ÙƒØ±:</label>
            <select id="tasbeehSelect" class="tasbeeh-select" onchange="changeZikr()">
                <option value="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</option>
                <option value="Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡">Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡</option>
                <option value="Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±">Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</option>
                <option value="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</option>
                <option value="Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡">Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡</option>
                <option value="Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù‘Ù Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯">Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù‘Ù Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯</option>
            </select>
            
            <div class="circle" onclick="pressTasbeeh()">
                <h2 id="counter">0</h2>
                <span id="tasbeehLabel">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</span>
            </div>
            <button class="btn-reset" onclick="resetT()">ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯</button>
        </div>
    </div>

    <div id="azkarPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">ğŸ”™ Ø±Ø¬ÙˆØ¹</button>
        <h2>Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡</h2>
        <div class="content-card">
            <div class="zikr-box">Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡.</div>
            <div class="zikr-box">Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ø§Ù‹ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ø§Ù‹ ÙˆØ¨Ù…Ø­Ù…Ø¯ ï·º Ù†Ø¨ÙŠØ§Ù‹.</div>
            <div class="zikr-box">Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø¹Ù„Ù…Ø§Ù‹ Ù†Ø§ÙØ¹Ø§Ù‹ ÙˆØ±Ø²Ù‚Ø§Ù‹ Ø·ÙŠØ¨Ø§Ù‹.</div>
            <div class="zikr-box">Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¶Ø± Ù…Ø¹ Ø§Ø³Ù…Ù‡ Ø´ÙŠØ¡ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆÙ„Ø§ ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡.</div>
        </div>
    </div>

    <div id="duaPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">ğŸ”™ Ø±Ø¬ÙˆØ¹</button>
        <h2>Ø£Ø¯Ø¹ÙŠØ© Ù…Ø£Ø«ÙˆØ±Ø©</h2>
        <div class="content-card">
            <div class="zikr-box">Ø±Ø¨Ù†Ø§ Ø¢ØªÙ†Ø§ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø­Ø³Ù†Ø© ÙˆÙÙŠ Ø§Ù„Ø¢Ø®Ø±Ø© Ø­Ø³Ù†Ø© ÙˆÙ‚Ù†Ø§ Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù†Ø§Ø±.</div>
            <div class="zikr-box">Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ùƒ Ø¹ÙÙˆ ÙƒØ±ÙŠÙ… ØªØ­Ø¨ Ø§Ù„Ø¹ÙÙˆ ÙØ§Ø¹ÙÙ Ø¹Ù†ÙŠ.</div>
        </div>
    </div>

    <div id="hifzPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">ğŸ”™ Ø±Ø¬ÙˆØ¹</button>
        <h2>ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø­ÙØ¸</h2>
        <div class="content-card">
            <ul>
                <li><b>Ø§Ù„ØªÙƒØ±Ø§Ø±:</b> ÙƒØ±Ø± Ø§Ù„Ø¢ÙŠØ© 10 Ù…Ø±Ø§Øª.</li>
                <li><b>Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹:</b> Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø³ÙˆØ±Ø© ÙƒØ«ÙŠØ±Ø§Ù‹ (Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ù‚Ø±Ø¢Ù†).</li>
            </ul>
        </div>
    </div>

</div>

<script>
    function startApp() {
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('mainHeader').style.display = 'flex';
        document.getElementById('appContent').style.display = 'block';
        loadSurahNames();
    }

    function showPage(pageId) {
        const pages = document.querySelectorAll('.page');
        pages.forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        window.scrollTo(0,0);
    }

    async function loadSurahNames() {
        const select = document.getElementById('surahSelect');
        try {
            const response = await fetch('https://api.alquran.cloud/v1/surah');
            const data = await response.json();
            data.data.forEach(s => {
                const opt = document.createElement('option');
                opt.value = s.number;
                opt.text = s.number + ". " + s.name;
                select.add(opt);
            });
        } catch (e) { console.log("Ø®Ø·Ø£"); }
    }

    async function getSurahData() {
        const val = document.getElementById('surahSelect').value;
        const box = document.getElementById('quranBox');
        const audioC = document.getElementById('audioContainer');
        const audioS = document.getElementById('surahAudio');
        const audioT = document.getElementById('audioTitle');
        
        if(!val) return;
        
        box.innerHTML = "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©...";
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØª
        audioC.style.display = "block";
        audioT.innerText = "Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ø³ÙˆØ±Ø© " + document.getElementById('surahSelect').options[document.getElementById('surahSelect').selectedIndex].text;
        // Ù†Ø³ØªØ®Ø¯Ù… Ø³ÙŠØ±ÙØ± mp3 Ù…Ø¨Ø§Ø´Ø± (Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ ÙƒÙ…Ø«Ø§Ù„)
        const surahNumber = val.padStart(3, '0');
        audioS.src = `https://server8.mp3quran.net/afs/${surahNumber}.mp3`;
        audioS.load();

        try {
            const response = await fetch(`https://api.alquran.cloud/v1/surah/${val}`);
            const data = await response.json();
            let fullText = "";
            if(val != 1 && val != 9) fullText += `<p style="text-align:center; color:var(--secondary)">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù</p>`;
            data.data.ayahs.forEach(a => {
                fullText += a.text + ` <span style="color:var(--secondary)">ï´¿${a.numberInSurah}ï´¾</span> `;
            });
            box.innerHTML = fullText;
        } catch (e) { box.innerHTML = "Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„."; }
    }

    // Ø§Ù„Ø³Ø¨Ø­Ø© Ø§Ù„Ù…Ø·ÙˆØ±Ø©
    let count = localStorage.getItem('count') || 0;
    document.getElementById('counter').innerText = count;

    function pressTasbeeh() {
        count++;
        document.getElementById('counter').innerText = count;
        localStorage.setItem('count', count);
        if(navigator.vibrate) navigator.vibrate(50);
    }

    function changeZikr() {
        const val = document.getElementById('tasbeehSelect').value;
        document.getElementById('tasbeehLabel').innerText = val;
    }

    function resetT() {
        if(confirm("ØªØµÙÙŠØ±ØŸ")) {
            count = 0;
            document.getElementById('counter').innerText = 0;
            localStorage.setItem('count', 0);
        }
    }

    function toggleDark() { document.body.classList.toggle('dark-mode'); }

    const verses = ["ÙÙØ¥ÙÙ†Ù‘Ù Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§", "Ø£ÙÙ„ÙØ§ Ø¨ÙØ°ÙÙƒÙ’Ø±Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ØªÙØ·Ù’Ù…ÙØ¦ÙÙ†Ù‘Ù Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù", "Ø§Ø¯Ù’Ø¹ÙÙˆÙ†ÙÙŠ Ø£ÙØ³Ù’ØªÙØ¬ÙØ¨Ù’ Ù„ÙÙƒÙÙ…Ù’"];
    document.getElementById('dailyVerse').innerText = verses[Math.floor(Math.random()*verses.length)];
</script>

</body>
</html>
