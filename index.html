<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูููู | ุชุทุจููู ุงูุฅุณูุงูู ุงูุดุงูู</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #064e3b;
            --secondary: #10b981;
            --accent: #f59e0b;
            --bg: #f1f5f9;
            --card: #ffffff;
            --text: #1e293b;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .dark-mode {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f1f5f9;
            --primary: #34d399;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            transition: background 0.3s ease;
        }

        header {
            background: var(--primary); color: white;
            padding: 15px 20px; display: flex;
            justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .container { max-width: 600px; margin: 0 auto; padding: 20px; }

        #startScreen {
            height: 100vh; width: 100%;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white; position: fixed; top: 0; left: 0; z-index: 2000;
        }

        #startScreen h1 { font-size: 48px; margin-bottom: 10px; font-weight: 800; }
        .enter-btn {
            background: white; color: var(--primary);
            padding: 15px 60px; border-radius: 50px;
            font-size: 22px; font-weight: bold; border: none;
            cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .page { display: none; animation: slideUp 0.4s ease-out; }
        .page.active { display: block; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .menu-item {
            background: var(--card); padding: 25px 15px;
            border-radius: 20px; text-align: center; cursor: pointer;
            box-shadow: var(--shadow); border: 1px solid rgba(0,0,0,0.05);
        }
        .menu-item span { font-weight: 700; font-size: 18px; }

        .content-card { background: var(--card); padding: 20px; border-radius: 20px; margin-bottom: 15px; box-shadow: var(--shadow); }
        .quran-view { font-family: 'Amiri', serif; font-size: 26px; line-height: 2.2; text-align: justify; padding: 20px; max-height: 60vh; overflow-y: auto; }
        .surah-select, .tasbeeh-select { width: 100%; padding: 15px; border-radius: 12px; font-family: 'Tajawal'; font-size: 16px; margin-bottom: 20px; border: 2px solid var(--secondary); background: var(--card); color: var(--text); }

        .tasbeeh-container { text-align: center; padding: 20px 0; }
        .circle {
            width: 200px; height: 200px;
            border: 10px solid var(--secondary); border-radius: 50%;
            margin: 0 auto 20px; display: flex; flex-direction: column;
            justify-content: center; align-items: center; cursor: pointer;
            background: var(--card); box-shadow: var(--shadow);
        }
        .circle h2 { font-size: 50px; margin: 0; }

        .btn-back { background: #64748b; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; margin-bottom: 20px; font-weight: bold; }
        .btn-reset { background: #ef4444; color: white; border: none; padding: 12px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; }
        .zikr-box { border-right: 4px solid var(--secondary); background: var(--bg); padding: 15px; margin-bottom: 10px; border-radius: 0 10px 10px 0; font-size: 17px; line-height: 1.6; }
        .zikr-box span { display: block; color: var(--secondary); font-weight: bold; font-size: 14px; margin-top: 5px; }

        audio { width: 100%; margin-top: 15px; border-radius: 10px; }
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; border-radius: 12px; margin-bottom: 15px; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
        
        .prayer-time-row { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #eee; }
        .todo-item { display: flex; align-items: center; gap: 10px; padding: 10px; border-bottom: 1px solid #eee; }
        #ramadanTimer { background: #f59e0b; color: #fff; padding: 10px; border-radius: 10px; margin-bottom: 15px; font-weight: bold; text-align: center; }
    </style>
</head>
<body>

<div id="startScreen">
    <h1>ูููููู</h1>
    <p>ุฃูููุง ุจูุฐูููุฑู ุงูููููู ุชูุทูููุฆูููู ุงูููููููุจู</p>
    <button class="enter-btn" onclick="startApp()">ุฏุฎูู ุงูุชุทุจูู</button>
</div>

<header id="mainHeader" style="display: none;">
    <span style="font-weight: 800; font-size: 22px;">๐ ูููููู</span>
    <button onclick="toggleDark()" style="background:none; border:none; font-size: 24px; cursor:pointer;">๐</button>
</header>

<div class="container" id="appContent" style="display: none;">

    <div id="homePage" class="page active">
        <div id="ramadanTimer" style="display:none;"></div>
        <div class="content-card" style="background: var(--primary); color: white; text-align: center; cursor: pointer;" onclick="showTafsir()">
            <p id="dailyVerse">"ููุฅูููู ููุนู ุงููุนูุณูุฑู ููุณูุฑูุง"</p>
            <small id="tafsirText" style="display:none; font-size: 14px; opacity: 0.9;"></small>
        </div>

        <div class="main-menu">
            <div class="menu-item" onclick="showPage('quranPage')">๐ <span>ุงููุฑุขู</span></div>
            <div class="menu-item" onclick="showPage('azkarMorning')">๐ <span>ุฃุฐูุงุฑ ุงูุตุจุงุญ</span></div>
            <div class="menu-item" onclick="showPage('azkarEvening')">๐ <span>ุฃุฐูุงุฑ ุงููุณุงุก</span></div>
            <div class="menu-item" onclick="showPage('tasbeehPage')">๐ฟ <span>ุงูุณุจุญุฉ</span></div>
            <div class="menu-item" onclick="showPage('duaPage')">๐ <span>ุงูุฃุฏุนูุฉ</span></div>
            <div class="menu-item" onclick="showPage('ramadanPage')">โญ <span>ุฃูุฏุงู ุฑูุถุงู</span></div>
            <div class="menu-item" onclick="getPrayerTimes()">๐ <span>ููุงููุช ุงูุตูุงุฉ</span></div>
            <div class="menu-item" onclick="showPage('todoPage')">โ <span>ููุงูู ุงูููููุฉ</span></div>
            <div class="menu-item" onclick="showPage('hifzPage')" style="grid-column: span 2;">๐ก <span>ูุตุงุฆุญ ุงูุญูุธ</span></div>
        </div>
    </div>

    <div id="azkarMorning" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <h2>๐ ุฃุฐูุงุฑ ุงูุตุจุงุญ</h2>
        <div class="content-card">
            <div class="zikr-box">ุขูุฉ ุงููุฑุณู: ุงูููููู ููุง ุฅููููฐูู ุฅููููุง ูููู ุงููุญูููู ุงูููููููููู ููุง ุชูุฃูุฎูุฐููู ุณูููุฉู ููููุง ูููููู  ููููู ููุง ููู ุงูุณููููุงููุงุชู ููููุง ููู ุงููุฃูุฑูุถู... <span>(ูุฑุฉ ูุงุญุฏุฉ)</span></div>
            <div class="zikr-box">ุณูุฑุฉ ุงูุฅุฎูุงุต + ุงูููู + ุงููุงุณ <span>(3 ูุฑุงุช)</span></div>
            <div class="zikr-box">ุงูููู ุจู ุฃุตุจุญูุงุ ูุจู ุฃูุณููุงุ ูุจู ูุญูุงุ ูุจู ูููุชุ ูุฅููู ุงููุดูุฑ.</div>
            <div class="zikr-box">ุงูููู ุฃูุช ุฑุจู ูุง ุฅูู ุฅูุง ุฃูุชุ ุฎููุชูู ูุฃูุง ุนุจุฏูุ ูุฃูุง ุนูู ุนูุฏู ููุนุฏู ูุง ุงุณุชุทุนุช ุงุนูุฐู ุจู ูู ุดุฑ ูุง ุตูุนุช ุงุจูุก ูู ุจูุนูุชู ุนูู ูุงุจูุก ุจุฐูุจู ูุงุบูุฑ ูู ู ุงูู ูุง ูุบูุฑ ุงูุฐููุจ ุงูุง ุงูุช. <span>(ูุฑุฉ ูุงุญุฏุฉ)</span></div>
            <div class="zikr-box">ุจุณู ุงููู ุงูุฐู ูุง ูุถุฑ ูุน ุงุณูู ุดูุก ูู ุงูุฃุฑุถ ููุง ูู ุงูุณูุงุก ููู ุงูุณููุน ุงูุนููู. <span>(3 ูุฑุงุช)</span></div>
            <div class="zikr-box">ุฑุถูุช ุจุงููู ุฑุจุงูุ ูุจุงูุฅุณูุงู ุฏููุงูุ ูุจูุญูุฏ ๏ทบ ูุจูุงู. <span>(3 ูุฑุงุช)</span></div>
            <div class="zikr-box">ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ููุ ูู ุงูููู ููู ุงูุญูุฏ ููู ุนูู ูู ุดูุก ูุฏูุฑ. <span>(100 ูุฑุฉ)</span></div>
            <div class="zikr-box">ุฃุณุชุบูุฑ ุงููู ูุฃุชูุจ ุฅููู. <span>(100 ูุฑุฉ)</span></div>
            <div class="zikr-box">ุงูููู ุตู ูุณูู ุนูู ูุจููุง ูุญูุฏ. <span>(10 ูุฑุงุช)</span></div>
            <div class="zikr-box">ุงูููู ุฅูู ุฃุณุฃูู ุงูุนูู ูุงูุนุงููุฉ ูู ุงูุฏููุง ูุงูุขุฎุฑุฉ...</div>
        </div>
    </div>

    <div id="azkarEvening" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <h2>๐ ุฃุฐูุงุฑ ุงููุณุงุก</h2>
        <div class="content-card">
            <div class="zikr-box">ุขูุฉ ุงููุฑุณู <span>(ูุฑุฉ ูุงุญุฏุฉ)</span></div>
            <div class="zikr-box">ุณูุฑุฉ ุงูุฅุฎูุงุต + ุงูููู + ุงููุงุณ <span>(3 ูุฑุงุช)</span></div>
            <div class="zikr-box">ุงูููู ุจู ุฃูุณููุงุ ูุจู ุฃุตุจุญูุงุ ูุจู ูุญูุงุ ูุจู ูููุชุ ูุฅููู ุงููุตูุฑ.</div>
            <div class="zikr-box">ุณูุฏ ุงูุงุณุชุบูุงุฑ: ุงูููู ุฃูุช ุฑุจู ูุง ุฅูู ุฅูุง ุฃูุช... <span>(ูุฑุฉ ูุงุญุฏุฉ)</span></div>
            <div class="zikr-box">ุจุณู ุงููู ุงูุฐู ูุง ูุถุฑ ูุน ุงุณูู ุดูุก ูู ุงูุฃุฑุถ ููุง ูู ุงูุณูุงุก... <span>(3 ูุฑุงุช)</span></div>
            <div class="zikr-box">ุฑุถูุช ุจุงููู ุฑุจุงูุ ูุจุงูุฅุณูุงู ุฏููุงูุ ูุจูุญูุฏ ๏ทบ ูุจูุงู. <span>(3 ูุฑุงุช)</span></div>
            <div class="zikr-box">ุฃูุณููุง ูุฃูุณู ุงูููู ููู ูุงูุญูุฏ ูููุ ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ูู...</div>
            <div class="zikr-box">ุฃุนูุฐ ุจูููุงุช ุงููู ุงูุชุงูุงุช ูู ุดุฑ ูุง ุฎูู. <span>(3 ูุฑุงุช)</span></div>
            <div class="zikr-box">ุฃุณุชุบูุฑ ุงููู ูุฃุชูุจ ุฅููู. <span>(100 ูุฑุฉ)</span></div>
            <div class="zikr-box">ุงูููู ุตู ูุณูู ุนูู ูุจููุง ูุญูุฏ. <span>(10 ูุฑุงุช)</span></div>
        </div>
    </div>

    <div id="quranPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <select id="surahSelect" class="surah-select" onchange="getSurahData()"><option value="">ุงุฎุชุฑ ุงูุณูุฑุฉ...</option></select>
        <div id="audioContainer" class="content-card" style="display:none; text-align:center;">
            <span id="audioTitle" style="font-weight:bold; display:block; margin-bottom:10px;"></span>
            <audio id="surahAudio" controls><source src="" type="audio/mpeg"></audio>
        </div>
        <div id="quranBox" class="content-card quran-view">ุงุฎุชุฑ ุณูุฑุฉ ูุชุจุฏุฃ ุงููุฑุงุกุฉ...</div>
    </div>

    <div id="duaPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <h2>๐ ุฃุฏุนูุฉ ูุจููุฉ</h2>
        <div class="content-card">
            <div class="zikr-box"><b>ุฏุนุงุก ุงููู ูุงูุญุฒู:</b> "ุงููููููููู ุฅูู ุฃุนูุฐ ุจู ูู ุงููู ูุงูุญุฒูุ ูุฃุนูุฐ ุจู ูู ุงูุนุฌุฒ ูุงููุณูุ ูุฃุนูุฐ ุจู ูู ุงูุฌุจู ูุงูุจุฎูุ ูุฃุนูุฐ ุจู ูู ุบูุจุฉ ุงูุฏูู ูููุฑ ุงูุฑุฌุงู."</div>
            <div class="zikr-box"><b>ูุจู ุงูููู:</b> "ุจุงุณูู ุฑุจู ูุถุนุช ุฌูุจูุ ูุจู ุฃุฑูุนุชูุ ูุฅู ุฃูุณูุช ููุณู ูุงุฑุญููุงุ ูุฅู ุฃุฑุณูุชูุง ูุงุญูุธูุง ุจูุง ุชุญูุธ ุจู ุนุจุงุฏู ุงูุตุงูุญูู."</div>
            <div class="zikr-box"><b>ุฏุนุงุก ุงูุญุงุฌุฉ:</b> "ูุง ุฅูู ุฅูุง ุงููู ุงูุญููู ุงููุฑููุ ุณุจุญุงู ุงููู ุฑุจ ุงูุนุฑุด ุงูุนุธูู... ุฃู ุชุฌุนู ุงููุฑุขู ุฑุจูุน ููุจู ูููุฑ ุตุฏุฑู."</div>
        </div>
    </div>

    <div id="ramadanPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <h3>๐ฏ ุฃูุฏุงู ุฑูุถุงู</h3>
        <div class="content-card">
            <h4>1- ุงูุณูุฑุฉ ุงููุจููุฉ (ุฃุญูุฏ ุนุงูุฑ)</h4>
            <div class="video-container"><iframe src="https://www.youtube.com/embed/playlist?list=PLATApN30c4aLXpHzO1GkEb9H0CeXaJFy9"></iframe></div>
        </div>
        <div class="content-card">
            <h4>2- ุงููุนุงุฑู ุงููุจุฑู (ุณููุฑ ูุตุทูู)</h4>
            <div class="video-container"><iframe src="https://www.youtube.com/embed/playlist?list=PL09AC5B8EC7B3803A"></iframe></div>
        </div>
        <div class="content-card">
            <h4>3- ุฎุชูุฉ ุชุนุงุฑู (ุญุงุฒู ุดููุงู)</h4>
            <div class="video-container"><iframe src="https://www.youtube.com/embed/playlist?list=PLVPp4tYPys9MtkoERFPfepEll78gK5oM8"></iframe></div>
        </div>
        <div class="content-card">
            <h4>๐ ุฃูุฏุงูู ุงูุฎุงุตุฉ</h4>
            <textarea id="myGoals" style="width:100%; height:80px; padding:10px; border-radius:10px; border:1px solid #ddd;" placeholder="ุงูุชุจ ููุง ูุง ุชุฑูุฏ ุชุญูููู..."></textarea>
            <button onclick="saveGoals()" style="margin-top:10px; width:100%; padding:10px; background:var(--primary); color:white; border:none; border-radius:10px;">ุญูุธ</button>
        </div>
    </div>

    <div id="tasbeehPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <div class="tasbeeh-container">
            <select id="tasbeehSelect" class="tasbeeh-select" onchange="changeZikr()">
                <option value="ุณุจุญุงู ุงููู">ุณุจุญุงู ุงููู</option>
                <option value="ุงูุญูุฏ ููู">ุงูุญูุฏ ููู</option>
                <option value="ุงููู ุฃูุจุฑ">ุงููู ุฃูุจุฑ</option>
                <option value="ูุง ุฅูู ุฅูุง ุงููู">ูุง ุฅูู ุฅูุง ุงููู</option>
            </select>
            <div class="circle" onclick="pressTasbeeh()"><h2 id="counter">0</h2><span id="tasbeehLabel">ุณุจุญุงู ุงููู</span></div>
            <button class="btn-reset" onclick="resetT()">ุชุตููุฑ</button>
        </div>
    </div>

    <div id="prayerPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <h2>๐ ููุงููุช ุงูุตูุงุฉ (ุงููุงูุฑุฉ)</h2>
        <div class="content-card" id="prayerTimesBox">ุฌุงุฑู ุงูุชุญููู...</div>
    </div>

    <div id="todoPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <h2>โ ููุงูู ุงูููููุฉ</h2>
        <div class="content-card" id="todoList">
            <div class="todo-item"><input type="checkbox" id="t1"> <label for="t1">ูุฑุงุกุฉ ูุฑุฏ ุงููุฑุขู</label></div>
            <div class="todo-item"><input type="checkbox" id="t2"> <label for="t2">ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก</label></div>
            <div class="todo-item"><input type="checkbox" id="t3"> <label for="t3">ุงูุตููุงุช ุงูุฎูุณ</label></div>
        </div>
    </div>

    <div id="hifzPage" class="page">
        <button class="btn-back" onclick="showPage('homePage')">๐ ุฑุฌูุน</button>
        <h2>๐ก ูุตุงุฆุญ ุงูุญูุธ</h2>
        <div class="content-card">
            <ul>
                <li>ูุฑุฑ ุงูุขูุฉ 10 ูุฑุงุช.</li>
                <li>ุงุณุชูุน ููุณูุฑุฉ ูุซูุฑุงู.</li>
                <li>ุงุญูุธ ูุน ุตุฏูู ูุชุดุฌูุน ุจุนุถููุง.</li>
            </ul>
        </div>
    </div>

</div>

<script>
    function startApp() {
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('mainHeader').style.display = 'flex';
        document.getElementById('appContent').style.display = 'block';
        loadSurahNames();
        updateRamadanTimer();
        loadMyGoals();
        loadDailyVerse();
    }

    function showPage(pageId) {
    // ุงูุฌุฒุก ุงูุฌุฏูุฏ: ูุฎุจุฑ ุงููุชุตูุญ ุฃููุง ุงูุชูููุง ูุตูุญุฉ ุฌุฏูุฏุฉ
    if (pageId !== 'homePage') {
        history.pushState({ page: pageId }, "");
    }

    // ุงูููุฏ ุงูุฃุตูู ุจุชุงุนู (ุฅุธูุงุฑ ูุฅุฎูุงุก ุงูุตูุญุงุช)
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    window.scrollTo(0,0);
}


    function updateRamadanTimer() {
        const now = new Date();
        const ramadanDate = new Date("March 1, 2025 00:00:00").getTime();
        const ramadanEnd = new Date("March 31, 2025 23:59:59").getTime();
        const diff = ramadanDate - now.getTime();
        const el = document.getElementById('ramadanTimer');
        
        if (diff > 0) {
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            el.innerHTML = `โณ ูุชุจูู ุนูู ุฑูุถุงู: ${days} ููู`;
            el.style.display = "block";
        } else if (now.getTime() < ramadanEnd) {
            el.innerHTML = `๐ ุฑูุถุงู ูุฑูู! ุงุณุชุบู ูู ูุญุธุฉ`;
            el.style.display = "block";
        } else { el.style.display = "none"; }
    }

    const dailyVerses = [
        {a: "ููุฅูููู ููุนู ุงููุนูุณูุฑู ููุณูุฑูุง", t: "ุชูุณูุฑ: ุงููู ูุนุฏู ุจุงููุณุฑ ุจุนุฏ ูู ุถูู."},
        {a: "ุฃูููุง ุจูุฐูููุฑู ุงูููููู ุชูุทูููุฆูููู ุงูููููููุจู", t: "ุชูุณูุฑ: ุทูุฃูููุฉ ุงูููุจ ุงูุญููููุฉ ูู ุฐูุฑ ุงููู."},
        {a: "ุงุฏูุนููููู ุฃูุณูุชูุฌูุจู ูููููู", t: "ุชูุณูุฑ: ุงููู ูุฑูุจ ููู ูููุชุธุฑ ุฏุนุงุกู ููุนุทูู."}
    ];

    function loadDailyVerse() {
        const item = dailyVerses[Math.floor(Math.random() * dailyVerses.length)];
        document.getElementById('dailyVerse').innerText = item.a;
        document.getElementById('tafsirText').innerText = item.t;
    }

    function showTafsir() {
        const t = document.getElementById('tafsirText');
        t.style.display = t.style.display === 'none' ? 'block' : 'none';
    }

    async function loadSurahNames() {
        const select = document.getElementById('surahSelect');
        try {
            const r = await fetch('https://api.alquran.cloud/v1/surah');
            const d = await r.json();
            d.data.forEach(s => {
                const opt = document.createElement('option');
                opt.value = s.number; opt.text = s.number + ". " + s.name;
                select.add(opt);
            });
        } catch(e) {}
    }

    async function getSurahData() {
        const val = document.getElementById('surahSelect').value;
        if(!val) return;
        document.getElementById('quranBox').innerText = "ุฌุงุฑู ุงูุชุญููู...";
        document.getElementById('audioContainer').style.display = "block";
        document.getElementById('surahAudio').src = `https://server8.mp3quran.net/afs/${val.padStart(3, '0')}.mp3`;
        try {
            const r = await fetch(`https://api.alquran.cloud/v1/surah/${val}`);
            const d = await r.json();
            let text = "";
            d.data.ayahs.forEach(a => { text += a.text + ` ๏ดฟ${a.numberInSurah}๏ดพ `; });
            document.getElementById('quranBox').innerHTML = text;
        } catch(e) { document.getElementById('quranBox').innerText = "ุญุฏุซ ุฎุทุฃ."; }
    }

    async function getPrayerTimes() {
        showPage('prayerPage');
        const box = document.getElementById('prayerTimesBox');
        try {
            const r = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Cairo&country=Egypt&method=5');
            const d = await r.json();
            const t = d.data.timings;
            box.innerHTML = `
                <div class="prayer-time-row"><span>ุงููุฌุฑ</span> <b>${t.Fajr}</b></div>
                <div class="prayer-time-row"><span>ุงูุธูุฑ</span> <b>${t.Dhuhr}</b></div>
                <div class="prayer-time-row"><span>ุงูุนุตุฑ</span> <b>${t.Asr}</b></div>
                <div class="prayer-time-row"><span>ุงููุบุฑุจ</span> <b>${t.Maghrib}</b></div>
                <div class="prayer-time-row"><span>ุงูุนุดุงุก</span> <b>${t.Isha}</b></div>
            `;
        } catch(e) { box.innerHTML = "ุชุนุฐุฑ ุงูุชุญููู."; }
    }

    let count = localStorage.getItem('count') || 0;
    document.getElementById('counter').innerText = count;
    function pressTasbeeh() {
        count++;
        document.getElementById('counter').innerText = count;
        localStorage.setItem('count', count);
        if(navigator.vibrate) navigator.vibrate(50);
    }
    function resetT() { count = 0; document.getElementById('counter').innerText = 0; localStorage.setItem('count', 0); }
    function changeZikr() { document.getElementById('tasbeehLabel').innerText = document.getElementById('tasbeehSelect').value; }
    function toggleDark() { document.body.classList.toggle('dark-mode'); }
    function saveGoals() { localStorage.setItem('userGoals', document.getElementById('myGoals').value); alert("ุชู ุงูุญูุธ!"); }
    function loadMyGoals() { document.getElementById('myGoals').value = localStorage.getItem('userGoals') || ""; }
    if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
  
